<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlusÂ®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style>
  #box{
	position:relative;
	width:200px;
	height:50px;
	border:1px solid #eee;;
	margin: 50px auto 0;
  }
  #bg{
	height:10px;
	margin-top:19px;
	border:1px solid #ddd;
	border-radius:5px;
	overflow:hidden;
  }
  #bgcolor{
	background:#2889b2;
	width:0;
	height:10px;
	border-radius:5px;
  }
  #bt{
	width:34px;
	height:34px;
	border-radius:17px;
	overflow:hidden;
	position:absolute;
	left:0;
	background:#eee;
	margin-left:-17px;
	top:8px;
	cursor:pointer;
  }
  #text{
	width:200px;
	margin:0 auto;
	font-size:16px;
	line-height:2em;
  }
  </style>
 </head>
 <body>
	<div id="box">
		<div id="bg">
			<div id="bgcolor"></div>
		</div>
		<div id="bt"></div>
	</div>
	<div id="text"></div>
  <script src="js/jquery-1.11.0.min.js"></script>
  <script>
  $(function(){
	var $box=$('#box');
	var $bg=$('#bg');
	var $bgcolor=$('#bgcolor');
	var $btn=$('#bt');
	var $text=$('#text');
	var statu=false;
	var ox=0;
	var lx=0;
	var left=0;
	var bgleft=0;

	$btn.mousedown(function(e){
		lx=$btn.offset().left;
		ox=e.pageX-left;
		statu=true;
	});
	$(document).mouseup(function(){
		statu=false;
	});
	$box.mousemove(function(e){
		if(statu){
			left=e.pageX-ox;
			if(left<0){
				left=0;
			}
			if(left>200){
				left=200;
			}
			$btn.css('left',left);
			$bgcolor.width(left);
			$text.html('position:'+parseInt(left/2)+'%');
		}
	});
	$bg.click(function(e){
		if(!statu){
			bgleft=$bg.offset().left;
			left=e.pageX-bgleft;
			if(left<0)
				left=0;
			if(left>200)
				left=200;
			$btn.css('left',left);
			$bgcolor.stop().animate({width:left},200);
			$text.html('position:'+parseInt(left/2)+'%');
		}
	});
  });
  </script>
 </body>
</html>
